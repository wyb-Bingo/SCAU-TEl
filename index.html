<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<mata name="viewport" content="width=device-width,
 								initial-scale=1.0
 								
                           		 ">
    <title></title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	
	<script>
	$(document).ready(function(){

		var xmlhttp;
		var availableTags = new Array;
		var number = new Array;
	if (window.XMLHttpRequest)
	{
		// IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
		xmlhttp=new XMLHttpRequest();
	}
	else
	{
		// IE6, IE5 浏览器执行代码
		xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.onreadystatechange=function()
	{
		if (xmlhttp.readyState==4 && xmlhttp.status==200)
		{
			var data = eval(xmlhttp.responseText);
			for (var i = 76; i < data.length; i++) {
				availableTags[i-76] = data[i];
				number[i-76] = data[i-76];
			}
			var allxunikuang  = "";
			for (var i = 0; i < 76; i++) {
				allxunikuang = allxunikuang +
				"<div class='modal fade' id=\'modal" + i + "\'" + " tabindex='-1' role='dialog' aria-labelledby='mymodellabel' aria-hidden='true'>"
	  				 +
	  				 "<div class='modal-dialog'>"
	  				 +
	  				 "<div class='modal-content'>"
	  				 +
	  				 "<div class='modal-header'>"
	  				 +
	  				 "<button type='button'class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>"
	  				 +
	  				 "<h4 class='modal-title' id='myModalLabel'>" + availableTags[i] + "</h4>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "<div class='modal-body'>" + "电话：" + number[i] + "</div>"
	  				 +
	  				 "<div class='modal-footer'>"
	  				 +
	  				 "<button type='button' class='btn btn-default' data-dismiss='modal'>关闭</button>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "</div>";
			}
			document.getElementById("xunikuang").innerHTML=allxunikuang;

			var allbtn = "<ul class='nav nav-pills nav-justified'>";
			for (var i = 0; i < 20; i++) {
				allbtn += "<li><a data-toggle='modal' href=\'#modal" + i +"\'" + ">" + availableTags[i] + "</a></li>";
				if ((i+2)%8 == 0) { allbtn += "</ul><br><br><br>" + "<ul class='nav nav-pills nav-justified'>" ; }
			}
			allbtn += "</ul><br><br><br>";
			document.getElementById("demo1").innerHTML=allbtn;

			var allbtn1 = "<ul class='nav nav-pills nav-justified'>";
			for (var i = 20; i < 45; i++) {
				allbtn1 += "<li><a data-toggle='modal' href=\'#modal" + i +"\'" + ">" + availableTags[i] + "</a></li>";
				if ((i+6)%8 == 0) { allbtn1 += "</ul><br><br><br>" + "<ul class='nav nav-pills nav-justified'>" ; }
			}
			allbtn1 += "</ul><br><br><br>";
			document.getElementById("demo2").innerHTML=allbtn1;

			var allbtn2 = "<ul class='nav nav-pills nav-justified'>";
			for (var i = 45; i < 56; i++) {
				allbtn2 += "<li><a data-toggle='modal' href=\'#modal" + i +"\'" + ">" + availableTags[i] + "</a></li>";
				if ((i+6)%8 == 0) { allbtn2 += "</ul><br><br><br>" + "<ul class='nav nav-pills nav-justified'>" ; }
			}
			allbtn2 += "</ul><br><br><br>";
			document.getElementById("demo3").innerHTML=allbtn2;

			var allbtn3 = "<ul class='nav nav-pills nav-justified'>";
			for (var i = 56; i < 63; i++) {
				allbtn3 += "<li><a data-toggle='modal' href=\'#modal" + i +"\'" + ">" + availableTags[i] + "</a></li>";
				//if ((i+4)%8 == 0) { allbtn2 += "</ul><br><br><br>" + "<ul class='nav nav-pills nav-justified'>" ; }
			}
			allbtn3 += "</ul><br><br><br>";
			document.getElementById("demo4").innerHTML=allbtn3;

			var allbtn4 = "<ul class='nav nav-pills nav-justified'>";
			for (var i = 63; i < 76; i++) {
				allbtn4 += "<li><a data-toggle='modal' href=\'#modal" + i +"\'" + ">" + availableTags[i] + "</a></li>";
				if ((i+7)%8 == 0) { allbtn4 += "</ul><br><br><br>" + "<ul class='nav nav-pills nav-justified'>" ; }
			}
			allbtn4 += "</ul><br><br><br>";
			document.getElementById("demo5").innerHTML=allbtn4;
			//document.getElementById("myDiv").innerHTML=data;
		}
	}
	xmlhttp.open("GET","http://139.199.79.172/office/index.php?range='all' " ,true);
	xmlhttp.send();

	$( "#tags" ).autocomplete({
      source: availableTags
    });

	  $("#button1").click(function(){
	  	var a = $("#tags").val();
	  	if(a != "")
	  	{
	  		for (var i = 0; i < availableTags.length; i++) {
	  			if(a == availableTags[i])
	  			{
	  				var check =
	  				 "<div class='modal fade' id='check-modal' tabindex='-1' role='dialog' aria-labelledby='mymodellabel' aria-hidden='true'>"
	  				 +
	  				 "<div class='modal-dialog'>"
	  				 +
	  				 "<div class='modal-content'>"
	  				 +
	  				 "<div class='modal-header'>"
	  				 +
	  				 "<button type='button'class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>"
	  				 +
	  				 "<h4 class='modal-title' id='myModalLabel'>" + availableTags[i] + "</h4>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "<div class='modal-body'>" + "电话：" + number[i] + "</div>"
	  				 +
	  				 "<div class='modal-footer'>"
	  				 +
	  				 "<button type='button' class='btn btn-default' data-dismiss='modal'>关闭</button>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "</div>"
	  				 +
	  				 "</div>";
	  				 document.getElementById("sousuo").innerHTML=check;
	  				 break;
	  				 
	  			}
	  		}
	  	}
	  });
	});


</script>
	
</head>

<body>
<nav class="navbar navbar-default" role="navigation">
	<div class="container-fluid">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">华农办公室电话查询</a>
	</div>
	<form class="navbar-form navbar-right" role="search" >
			<div class="form-group" class="ui-widget">
				<input type="text" class="form-contrtol" placeholder="Search" name="search" id="tags">
			</div>
		<button type="button" class="btn btn-default" id="button1" data-toggle="modal" data-target = "#check-modal" >查询</button>
	</form>
	</div>
</nav>

<br>
<br>
<br>
<button type="button" class="btn btn-info btn-block" data-toggle="collapse" 
    data-target="#demo1">
    华南农业大学机关部处
</button>    
<div id="demo1" class="collapse">
    
</div><br>

<button type="button" class="btn btn-info btn-block" data-toggle="collapse" 
    data-target="#demo2">
    华南农业大学各学院
</button>    
<div id="demo2" class="collapse">
    
</div><br>


<button type="button" class="btn btn-info btn-block" data-toggle="collapse" 
    data-target="#demo3">
    华南农业大学教学单位
</button>    
<div id="demo3" class="collapse">
    
</div><br>


<button type="button" class="btn btn-info btn-block" data-toggle="collapse" 
    data-target="#demo4">
    华南农业大学校级附属单位
</button>    
<div id="demo4" class="collapse">
    
</div><br>


<button type="button" class="btn btn-info btn-block" data-toggle="collapse" 
    data-target="#demo5">
    华南农业大学各研究院，实验室，中心
</button>    
<div id="demo5" class="collapse">
    
</div><br>

<div id = "xunikuang">
</div>

<div id = "sousuo">
</div>

</body>
</html>
